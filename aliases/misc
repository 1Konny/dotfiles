#! /bin/bash

# visdom
alias vis='python -m visdom.server'

# jupyter notebook
alias jn='jupyter notebook'
alias jna='jupyter notebook --ip 0.0.0.0'

# gpu
alias gpu="watch --color -n.5 gpustat --color"
alias gpusmi="watch -n.5 nvidia-smi"
function usegpu(){
    if [ ! -z "$1" ]; then
        echo $1
        export CUDA_VISIBLE_DEVICES=$1
    else
        echo 'none'
        export CUDA_VISIBLE_DEVICES=''
    fi
}

function gdown () {
    # usage: gdown [id] [name]
    CONFIRM=$(wget --quiet --save-cookies /tmp/cookies.txt --keep-session-cookies --no-check-certificate "https://docs.google.com/uc?export=download&id=$1" -O- | sed -rn 's/.*confirm=([0-9A-Za-z_]+).*/\1\n/p')
    wget --load-cookies /tmp/cookies.txt "https://docs.google.com/uc?export=download&confirm=$CONFIRM&id=$1" -O $2
    rm -rf /tmp/cookies.txt
 }
